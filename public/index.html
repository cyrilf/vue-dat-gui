<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="favicon.ico">
  <title>vue-dat-gui</title>
  <!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> -->
  <!-- relative to the dist folder -->
  <!-- <script src="./vue-dat-gui.umd.cjs"></script> -->
  <link rel="stylesheet" href="./style.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'sans-serif';
    }

    .full {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      align-items: center;
    }

    h1 {
      margin-top: 0;
    }

    .input-title {
      font-size: 40px;
      text-align: center;
    }

    .input-title:focus {
      outline-color: #077d43;
    }

    .input-note {
      font-size: 11px;
      color: #666;
      font-style: italic;
      text-align: center;
      margin-top: 5px;
    }

    .github {
      position: fixed;
      bottom: 15px;
      right: 15px;
      color: white;
      background-color: #077d43;
      padding: 7px;
      text-decoration: none;
    }
  </style>
</head>

<body>
  <noscript>
    <strong>We're sorry but vue-dat-gui doesn't work properly without JavaScript enabled. Please enable it to
      continue.</strong>
  </noscript>
  <div id="app">
    <div class="full" :style="{ 'background-color': background }">
      <h1 :style="{ color: titleColor, 'font-size': `${titleFontSize}px` }">
        {{ title }}
      </h1>
      <img :src="pictureUrl" alt="vue-dat-gui demo" :style="pictureStyle" v-show="showPicture" />
      <div>
        <input v-model="title" class="input-title" />
        <div class="input-note">Showcase of the 2-way data-binding</div>
      </div>
      <dat-gui closeText="Close controls" openText="Open controls" closePosition="bottom">
        <dat-color v-model="background" label="Background"></dat-color>
        <dat-color v-model="titleColor" label="Title Color"></dat-color>
        <dat-number v-model="titleFontSize" label="Title font-size"></dat-number>
        <dat-string v-model="title" label="Title"></dat-string>
        <dat-button @click="triggerAlert" label="Trigger alert"></dat-button>
        <dat-folder label="Picture">
          <dat-select v-model="pictureUrl" :items="pictures" label="Picture"></dat-select>
          <dat-boolean v-model="showPicture" label="Show Picture"></dat-boolean>
          <dat-button @click="nextPicture" label="Next picture"></dat-button>
          <dat-folder label="Box shadow">
            <dat-number v-model="boxShadow.offsetX" :min="-100" :max="100" :step="1" label="Offset X"></dat-number>
            <dat-number v-model="boxShadow.offsetY" :min="-100" :max="100" :step="1" label="Offset Y"></dat-number>
            <dat-number v-model="boxShadow.blurRadius" :min="0" :max="100" :step="1" label="Blur radius"></dat-number>
            <dat-number v-model="boxShadow.spreadRadius" :min="0" :max="30" :step="1"
              label="Spread radius"></dat-number>
            <dat-color v-model="boxShadow.color" label="Color"></dat-color>
          </dat-folder>
        </dat-folder>
      </dat-gui>
      <a class="github" href="https://github.com/cyrilf/vue-dat-gui/blob/master/public/index.html">View on Github</a>
    </div>
  </div>
  <script type="importmap">
    {
      "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js",
        "vue-dat-gui": "./vue-dat-gui.js"
      }
    }
  </script>
  <script type="module" lang="ts">
    // const { createApp, computed, ref } = Vue;
    import { createApp, computed, ref } from 'vue'
    import VueDatGui from 'vue-dat-gui'

    createApp({
      setup() {
        const pictures = [
          {
            name: "forest",
            value:
              "https://images.unsplash.com/photo-1516214104703-d870798883c5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",
          },
          {
            name: "mountain",
            value:
              "https://images.unsplash.com/photo-1526080676457-4544bf0ebba9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",
          },
          {
            name: "beach",
            value:
              "https://images.unsplash.com/photo-1520942702018-0862200e6873?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",
          },
        ];

        const background = ref("#cdeecc");
        const titleColor = ref("#077d43");
        const titleFontSize = ref(75);
        const title = ref("vue-dat-gui");
        const showPicture = ref(true);
        let pictureUrl = ref(pictures[0].value);
        const boxShadow = ref({
          offsetX: 27,
          offsetY: 27,
          blurRadius: 75,
          spreadRadius: 2,
          color: "rgba(3, 23, 6, 1)",
        });

        const pictureStyle = computed(() => {
          const { offsetX, offsetY, blurRadius, spreadRadius, color } = boxShadow.value;
          return {
            "box-shadow": `${offsetX}px ${offsetY}px ${blurRadius}px ${spreadRadius}px ${color}`,
          };
        });

        const triggerAlert = () => alert("Yeah, you pressed it!");
        const nextPicture = () => {
          const currentIndex = pictures.findIndex(
            (picture) => picture.value === pictureUrl.value
          );
          const nextIndex = (currentIndex + 1) % pictures.length;
          pictureUrl.value = pictures[nextIndex].value;
        };
        return {
          pictures,
          background,
          titleColor,
          titleFontSize,
          title,
          showPicture,
          pictureUrl, boxShadow,
          pictureStyle,
          triggerAlert,
          nextPicture
        }
      }
    })
      .use(VueDatGui)
      .mount('#app');


  </script>